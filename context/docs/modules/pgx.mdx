# pgx

Module `pgx` is used to connect to and query PostgreSQL databases.

The core functionality is provided by the
[pgx](https://github.com/jackc/pgx) library.

## Functions

### connect

```go filename="Function signature"
connect(dsn string) conn
```

Connect to the database specified by the dsn string.

```go copy filename="Example"
>>> conn := pgx.connect("postgres://user:pass@localhost:5432/db")
>>> conn.query("SELECT * FROM users")
[{"id": 1, "name": "Alice"}, {"id": 2, "name": "Bob"}]
>>> conn.close()
```

## Types

### conn

The `conn` object is a connection to a PostgreSQL database.

#### Methods

##### exec

```go filename="Method signature"
exec(sql string, args ...object) string
```

Execute sql by supplying the name of a prepared statement or a SQL string.
Arguments may be referenced positionally in the SQL string as $1, $2, etc.

```go copy filename="Example"
>>> conn.exec("INSERT INTO users (name) VALUES ($1)", "Alice")
```

##### query

```go filename="Method signature"
query(sql string, args ...object) list
```

Runs a query on the server and reads returns a list of records generated by the
query.

```go copy filename="Example"
>>> conn.query("SELECT * FROM users")
[{"id": 1, "name": "Alice"}, {"id": 2, "name": "Bob"}]
```

##### close

```go filename="Method signature"
close()
```

Close the connection.

```go copy filename="Example"
>>> conn.close()
```
